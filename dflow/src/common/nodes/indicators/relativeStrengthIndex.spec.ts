import { rsi } from "./relativeStrengthIndex";

describe("Relative Strength Index", () => {
  it("works", () => {
    [
      {
        input: {
          values: [1, 2],
          period: 3,
        },
        output: [],
      },
      {
        input: {
          values: [
            81.59, 81.06, 82.87, 83.0, 83.61, 83.15, 82.84, 83.99, 84.55, 84.36,
            85.53, 86.54, 86.89, 87.77, 87.29,
          ],
          period: 5,
        },
        output: [
          72.03, 64.93, 75.94, 79.8, 74.71, 83.03, 87.48, 88.75, 91.48, 78.5,
        ],
      },
      /*
      {
        input: {
          values: [
            20825.73, 19811.66, 20050.02, 20131.46, 19951.86, 19831.9, 20000.3,
            19796.84, 18790.61, 19292.84, 19319.77, 21360.11, 21648.34,
            21826.87, 22395.74, 20173.57, 20226.71, 19701.88, 19803.3, 20113.62,
            19416.18, 19537.02, 18875, 18461.36, 19401.63, 19289.91, 18920.5,
            18807.38,
          ],
          period: 14,
        },
        output: [
          69.2, 51.09, 49.14, 43.37, 42.66, 46.07, 39.11, 39.29, 33.01, 28.64,
          47.05, 43.66, 38.73, 35.31,
        ],
      },*/
    ].forEach(({ input: { values, period }, output }) => {
      expect(rsi(values, period)).toStrictEqual(output);
    });
  });
});
